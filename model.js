"use strict";class App{#t;#e;#o;#r=JSON.parse(localStorage.getItem("myWorkouts"))||[];editingItemIndex=0;start(){this.getDate(),console.log(`today is ${this.#t} (${this.#o.weekday})`),console.log(`entries: ${this.#r.length}`)}getDate(){const t=new Date,e={month:["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],year:t.getFullYear(),day:t.getDate(),weekday:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][t.getDay()]};this.#t=`${e.month} ${e.day}, ${e.year}`,this.#o=e,this.#e=`${e.month.slice(0,3)} ${e.day}, ${e.year}`}getShortDate(){return this.#e}getAllEntries(){return this.#r}getWorkoutType(){return document.querySelector("#endurance").checked?"Endurance":document.querySelector("#power").checked?"Power":void 0}makeEntry(){const t={dateFull:new Date,date:inputDate.value,type:this.getWorkoutType(),duration:inputDuration.value,sets:inputSets.value,notes:inputNotes.value.replace(/\n/g,"<br>")};this.#r.push(t),this.saveLocally()}saveLocally(){localStorage.setItem("myWorkouts",JSON.stringify(this.#r))}getItemOriginalIndex(t){return this.#r.findIndex((e=>new Date(e.dateFull).toISOString()===t.dataset.dateFull))}getEntry(t){const e=t.closest(".tracker__entry"),o=this.getItemOriginalIndex(e);return this.#r[o]}deleteEntry(t){const e=t.target.closest(".tracker__entry"),o=this.getItemOriginalIndex(e);this.#r.splice(o,1),this.saveLocally()}editEntry(){this.#r[this.editingItemIndex].date=inputDate.value,this.#r[this.editingItemIndex].type=this.getWorkoutType(),this.#r[this.editingItemIndex].duration=inputDuration.value,this.#r[this.editingItemIndex].sets=inputSets.value,this.#r[this.editingItemIndex].notes=inputNotes.value.replace(/\n/g,"<br>"),this.saveLocally()}async exportData(){try{if(0===Logic.getAllEntries().length)return alert("There is nothing to export."),void console.warn("There is nothing to export.");const t=JSON.stringify(localStorage.getItem("myWorkouts"));await navigator.clipboard.writeText(t),alert("All your data in the JSON format was copied to the clipboard.\nPaste it somewhere and save it.")}catch(t){console.error(t.message)}}}